\chapter{Discussion}
\label{chap:discussion}

\begin{center}
    \begin{minipage}{0.7\textwidth}
      \begin{small}
        I believe that every engineer has a responsibility to make the world a better place. We are gifted with an amazing power to take peopleâ€™s wishes and make them a reality.\\ \emph{Ayanna Howard}
      \end{small}
    \end{minipage}
    \vspace{0.5cm}
\end{center}


\section{Generalizing to Other Domains}

\section{Open Challenges}

\section{Embedding Autonomy Engineers into Science Teams}

\section{Robotics in Expeditionary Science}

\label{sec:discussion}

For the problem of hydrothermal plume charting with AUV \Sentry, this paper presents \PHORTEX, an autonomy stack that can plan long-horizon, fixed trajectories to target a partially observable spatiotemporal phenomena by leveraging physics-based dynamical models and Bayesian inference. The following section discusses some of the key challenges in deploying \PHORTEX for hydrothermal plume charting, each of which may be avenues for future work. The section concludes by discussion how both \PHORTEX and \PHUMES, as modular frameworks, can be a methodological starting point for more general expeditionary science settings.

% Several of the design choices we made for \PHORTEX and \PHUMES were made specifically for the context of hydrothermal plume charting with AUV \Sentry and the context of the Guaymas Basin cruise described in \cref{sec:field_results}. By function of \PHORTEX and \PHUMES being modular frameworks, different choices could be made for different scientific expeditions, AUVs, or target environment and scientific task. In this section, we identify several of the key choices made in this article and discuss their implications.

% \subsection{Lawnmower Actions and Exploitative Reward}
% %some comments here specifically on the performance of the system with respect to this. 
% In adaptive sampling and informative path planning research, defining the balance between exploration and exploitative actions is a consistent challenge. In this study, the operational restriction to use only uniform-coverage action primitives (lawnmowers) was coupled with a solely exploitative reward function (maximizing the sum of expected detection samples). Using the action space and reward definition in synchrony to achieve an explore-exploit balance for informative path planning has not necessarily been rigorously studied; however, the idea of chaining uniform coverage trajectories for adaptive search has been examined in \cite{mason2020evaluation} for hydrothermal vent localization. 



% \subsection{Temporal Resolution in \PHUMES Forecasts}
% % some comments related to this discretization scheme, as opposed to using a ``puff'' model or other system
% The \PHUMES forecast provides a sequence of time-averaged plume ``snapshots'' over which trajectories for a given dive can be planned. By virtue of using the analytical model presented in \cref{sec:phumes}, generating a series of snapshots requires discretizing over time in order to sample a crossflow magnitude and heading, with which the global coordinates of a plume can be computed. This strategy does not capture the effects of advection and mixing on pre-existing (i.e., persistent) plume fluids; the snapshot from $t=0$ does not influence the snapshot of $t=1$ because the persistence of plume fluids generated at $t=0$ are not modelled directly). For the purposes of plume charting in the neutrally-buoyant layer, it could be advantageous to have a more sophisticated model of plume-fluid persistence and/or finer-scale temporal resolution in order to better constrain the spatiotemporal coordinates of a particular observation. For this sophistication to be added, two key innovations would be necessary: a suitable analytical model and a suitable observation scheme.

% In settings in which modeling fluid persistence may be useful, a simple advection-diffusion model could be used on-top of the analytical model we use in this work to advect neutrally-buoyant fluids between time discretized snapshots. This would be a simple extension that would introduce another uncertain parameter---rate of diffusion---for inference. Another methodology to explore may be integrating other probabilistic tools to estimate unmodeled characteristics of an environment by the analytical model (e.g., learned ``closure'' terms). This may be particularly well-suited in online planning domains, in which forecasts from an analytical model could be used e.g., to set the prior of a GP, and then live observations could be incorporated in real time for course correction while actually underway. Rather than build upon the model we selected, adapting Guassian puff models \citep{ludwig1977simplification} for the deep-sea environment or deriving a minimal set of PDEs to include derivatives in time from full-state models like in \cite{lavelle2013turbulent} could be fruitful. In this case, to consider persistence requires additionally modeling non-conservative properties of a plume, such as biological nutrient consumption or particulate deposition. As designing analytical models of these phenomenon is an active area of research, it is obvious that working with domain experts to formulate the right physically-informed model for \PHUMES is critical.

% The observation scheme for a particular implementation has considerable impact on the sophistication of the inference that can be accomplished. In hydrothermal plume charting, there are heuristics for particular sensors that we employed to create a simplified binary data product; however a similar scheme could be used to develop a more continuous measure of the ``plume-quality'' of a particular water sample, or a learned sensor could be developed which could potentially create a more expressive data product. One of the challenges with environmental domains is the access to enough training data to create such learned sensors. But perhaps the larger challenge is simply the quality of the data available at large---much of the carbonate and other biogeochemical systems of environmental interest have either a limited or nonexistent selection of (\emph{in situ}) sensors available to measure them. Of the sensors that exist, particularly for deep-sea work, the time-response of gas sensors is on the order of half-an-hour or longer (in this work, we made use of experimental sensors in active development with faster response times suitable for mobile AUVs). As the sophistication of sensing equipment improves, so too will the inference abilities of decision-making systems like \PHORTEX.  


% \subsection{Inferring $\x_p$ and $\x_c$ for Hydrothermal Plume Charting}
% We used an MCMC sampler to estimate the initial conditions and model parameters, $\x_p$, for a plume analytical model from observations. This method leveraged the analytical model (the simulator) directly at the prediction and updating steps of \PHUMES and lent considerable structure to the learning problem. Additionally, we used a standard GP model to represent $\x_c$. In this case, there was no prior for how tides or other features may drive crossflow heading and velocity, but the availability of direct measurements (even at a single point) from an external sensor made training such a model straightforward. This highlights the importance the observation model (and task definition) has in selecting a belief representation over spatiotemporal environments.  

% In other formulations, $\x_p$ and $\x_c$ could have been ``combined'' and collectively represent a latent feature space; in such, the dual MCMC-GP methodology we used could be replaced with a generalized reinforcement learning or active learning framework. While such a method might be impractical for the small number of deployments possible while in the field, the use of sophisticated simulations of plume dynamics (e.g., \citealt{xu2012deep}) and robot physics in water could be effective in a pre-deployment training step and is worth considering in future work. One of the drawbacks of learned representations, however, is interpretability. $\x_p$ as defined in this work directly corresponds to a set of physically-meaningful quantities that are understandable by the science party. Moving forward, as more sophisticated models are necessary for challenging tasks in spatiotemporal environments, it may instead be beneficial to simultaneously learn both physically-meaningful quantities, and a latent space (perhaps relevant for a particular task). In scientific machine learning, these types of architectures (e.g., \citealt{raissi2019physics,lu2020extracting}) have already been proposed for fully-observable (or high-data) settings, and may inspire methods adaptable for robotic science expeditions.

% \subsection{Embedding Autonomy Teams into a Science Party}
% As the desire for and use of robots for scientific expeditions increases, so too will the need for robust, autonomous systems. The state-of-the-art robotic fleet used in ocean sciences today represents well over a decade of effort put into creating physical embodiments that can successful exist, navigate, and sample extreme environments. These robots perform critical mapping and surveying tasks, but are not yet leveraged to their full potential by science teams, in part due to the limits of their autonomous capabilities and the complexity of the tasks scientists want to complete. In brief, there is a need for autonomy engineers in science to co-develop \emph{useful} models for decision-making (which may or may not align with useful models for science) and re-define science questions into actionable optimization problems. Expeditionary science challenges an autonomy engineer to develop both generalized/transferable skills for a robot between deployments or expeditions, in addition to purpose-built tools for niche phenomenon or queries. Attention to these purpose-built tools in robotics research is a frontier that this formulation of \PHORTEX and \PHUMES attempts to examine. 

\subsection{Lawnmower Trajectories for Dynamic Phenomena}
Lawnmowers and other parameterized trajectories are the foundation of many field robotics deployments. When used to study spatially-distributed static phenomena, lawnmower trajectories produce intuitive, uniform-coverage maps that are easily interpreted by scientists and domain experts. Studying dynamic phenomena, on the other hand, with lawnmower trajectories can lead to highly counter-intuitive and uninterruptible results. For example, the positive plume detections returned by the standard lawnmower trajectory in \cref{fig:sim_traj_example} only barely resemble the underlying dynamic plume. \PHORTEX demonstrates that lawnmower trajectories can still be useful for characterizing dynamic phenomena, when used in combination with probabilistic forecasting models and optimization techniques. However, these methods introduce their own challenges. In \PHORTEX, evaluating the reward of a lawnmower trajectory requires generating the trajectory from parameters, sub-sampling that trajectory, and then using the \PHUMES model to predict the plume snapshot for a specific point in time and space. Each of these steps is computationally expensive. To increase the efficiency of the trajectory optimizer during field deployments, we only solved the underlying \PHUMES ODEs a single time for each lawnmower in a chain (at the start time of the lawnmower). This substantially improved the speed of the planner, at a loss of targeting accuracy for the moving plume. Developing efficient and accurate techniques that can optimize parameterized trajectories, such as lawnmowers, for dynamic environments is an imperative step in effectively studying spatio-temporal phenomena with mobile robots.


\subsection{Ambiguity Challenges in Inference}
Estimating the plume parameters $\x_p$ for deep-sea hydrothermal plumes requires solving an ill-posed inverse problem. The relationship between fluid exit velocity and vent area are significantly entwined in the analytical model proposed in ~\cref{sec:phumes} via \cref{eq:heat_flux}-\cref{eq:buoyancy_flux}. There are countably infinite solutions on the two-dimensional manifold describing this relationship for a single target flux value. As we show in \cref{sec:experiments}, this leads to multi-modal posterior estimates over inference parameters. Ambiguity in inverse problems is a classical problem in numerical methods, and not easily resolved without setting strong assumptions (i.e., fixing an unknown parameter) or changing the experimental procedure (i.e., collecting more/different types of data). For the purposes of robot trajectory planning, parameter ambiguity is not a problem, as long as the resulting model is sufficient for predicting the plume envelope. However, resolving this ambiguity may be important in settings in which the posterior estimates trained by \PHUMES are used as a scientific data product in themselves to make claims about a target environment. To make \PHUMES a useful science product (and not just a useful model for planning trajectories), further development that investigates the calibration of uncertainty in posterior estimates and considers possible modifications to the experimental procedure, would be necessary. 

\subsection{Compensating for Onboard Sensing Limitations of AUVs}
% comments on current inference and it being enabled by an external sensor
Leveraging sensing equipment external to a robot is well established for environmental studies in which satellite, fixed observatory, or historical observations are available. However, in many environments---subsea, subterreanean, forests---such observational equipment may not be available or needs to be independently deployed for a particular study by a science team or by a robot explorer. The use of multiagent systems for environmental studies in spatiotemporal fields (e.g., \autocite{salam2019adaptive,li2014multi,luo2018adaptive,ouyang2014multi}) is particularly powerful, as robots can carry heterogeneous sensors and collect simultaneous observations in different spatial locations. As fleets of deep-sea capable robots are not generally within reach for the science community, in this article, we leveraged an external crossflow sensor deployed by the science team and other standard shipboard sensing equipment to compensate for information that would have been difficult (or impossible) to collect with AUV \Sentry otherwise. Without access to these external sensors, additional burdens would need to be placed on the environmental model and inference methods used for decision-making. 

\subsection{Scientific Implications of Data Collected}
Tens of thousands of \emph{in situ} observations were collected in the four field dives that were executed in this study. These data can be directly used in external scientific frameworks for investigating hydrothermalism expressions in the Guaymas Basin. Most directly, \emph{in situ} observations of plume detections further than \SI{300}{\meter} will assist biochemists in mapping the fate of biologically digested chemicals and nutrients in hydrothermal fluids that rise through the water column. Coupled with physical bottle samples that this team collected, the \emph{Sentry} data from our dives will fill in the blanks between these sparse measurements. More generally, the data collected by \Sentry can be used in the refinement and development of hydrothermal plume models that may, in turn, be used in \PHUMES for future missions. Specifically, observations collected by \Sentry, coupled with all external observations (e.g., ROV \emph{JASON}, rosette, tiltmeter), can be used to finely characterize the neutrally-buoyant layer properties present in the Basin. This would entail estimating the rate of spread of fluid that intrudes into different strata of the water column, ultimately impacting the quality of computing overall transport of particulates, chemicals, and nutrients into the larger basin ecosystem. Given the rarity of scientific expeditions of this scale and the ability to perform targeted sampling enabled by \PHORTEX, the data set collected is generally a contribution for the larger oceanographic community.   

\subsection{Extending \PHORTEX and \PHUMES for Other Expeditionary Contexts}
% comments on how phortex and phumes can generalize
\PHORTEX and \PHUMES are formulated as modular frameworks, and in different expeditionary contexts each of the trajectory optimization scheme, definition of the reward function, and analytical model at the heart of \PHUMES could be replaced directly. \PHORTEX is formulated in this work as a deployment-by-deployment sequential decision-making framework that enables offline optimization of operationally-constrained trajectories. Fundamentally, this framework is general enough to extend to any robot system which may not have access to adaptive behaviors such as subsea AUVs and extraplanetary rovers. For online settings, \PHUMES is a model which can support the computation of information-theoretic reward functions and so online belief-based search (e.g., \cite{flaspohler2019information, Arora2017, Sun2017, sunberg2018online}) common in adaptive sampling and informative path planning literature could be pursued instead. \PHUMES itself is a Bayesian inference model that centers around a particular choice for numerical simulator. To extend to other scientific settings, a different numerical simulator can be selected. This requires some initial knowledge of how a particular target environment may evolve; this knowledge could be partial (as in, only knowing that certain properties may be conserved), approximate (as is presented in this article as an idealized model of plume dynamics), or complete (as in, having a full-fidelity simulator of a target environment). Scientific expeditions in the ocean and other marine environments, as well as atmospheric studies, are particularly well-suited for formulation with \PHUMES to inform mobile robot trajectories given the wealth of numerical simulators which exist to describe these environments. 


